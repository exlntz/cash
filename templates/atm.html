<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Управление банкоматами</title>
    <link rel="stylesheet" href="static/css/atmcss.css">
</head>
<body>
    <h1>Управление банкоматами</h1>

    <!-- Таблица ошибок банкоматов -->
    <div>
        <label for="error_filter">Фильтр ошибок:</label>
        <select id="error_filter">
            <option value="all">Все</option>
            <option value="critical_errors">Критические ошибки</option>
            <option value="errors">Ошибки</option>
            <option value="non_errors">Не ошибки</option>
        </select>
        <table id="atm_errors_table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Время</th>
                    <th>Сообщение</th>
                </tr>
            </thead>
            <tbody>
                <!-- Данные будут загружены динамически -->
            </tbody>
        </table>
        <div id="errors_pagination" class="pagination"></div>
    </div>

    <!-- Таблица статусов банкоматов -->
    <div>
        <label for="status_filter">Фильтр статусов:</label>
        <select id="status_filter">
            <option value="all">Все</option>
            <option value="incass">Требуется инкассация</option>
            <option value="service">Требуется обслуживание</option>
            <option value="None">Без ошибок</option>
        </select>
        <button id="sort_by_id">Сортировать по ID</button>
        <table id="atm_status_table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Статус</th>
                    <th>Действия</th>
                </tr>
            </thead>
            <tbody>
                <!-- Данные будут загружены динамически -->
            </tbody>
        </table>
        <div id="status_pagination" class="pagination"></div>
    </div>

    <!-- Форма добавления банкомата -->
    <button id="add_atm_button">Добавить банкомат</button>
    <div id="add_atm_form" style="display:none;">
        <form id="add_atm_form_inner">
            <label for="address">Адрес:</label>
            <input type="text" id="address" name="address">
            <label for="coords">Координаты:</label>
            <input type="text" id="coords" name="coords">
            <button type="submit">Сохранить</button>
        </form>
    </div>

    <!-- Окно выбора банкомата -->
    <label for="atm_selector">Выберите банкомат:</label>
    <select id="atm_selector">
        <option value="">Выберите банкомат</option>
        <!-- Данные будут загружены динамически -->
    </select>
    <div id="atm_details" style="display:none;">
        <p id="current_status"></p>
        <p id="work_percentage"></p>
        <canvas id="weekly_errors_chart"></canvas>
        <canvas id="monthly_errors_chart"></canvas>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="static/js/atmscripts.js"></script>
</body>
</html>